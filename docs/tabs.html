<!DOCTYPE html>
<html>
  <head>
    <title>Knockout Toolbox</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#838B63">
    <style type="text/css">
      label, input {display:block}
      div {overflow:hidden; min-height: 20px;}
      dd {font-weight:bold}
    </style>
    <script src="../external/jquery-3.3.1.min.js"></script>
    <script src="../external/knockout-3.4.2.js"></script>
    <script src="../external/moment.js"></script>
    <style type="text/css">
      ul, li {
          margin: 0;
          padding: 0;
          list-style: none;
      }
      .tabs__container {}
      .tabs__tabs {
          display: block;
      }
      .tabs__tab {
          margin-right: 4px;
          padding: 4px 10px;
          border-radius: 4px 4px 0 0;
          background: #eee;
          cursor: pointer;
          display: inline-block;
      }
      .tabs__tab--active {
          background: #aaa;
          font-weight: bold;
      }
      .tabs__panels {border: 1px solid #888}
      .tabs__panel {padding: 0 10px}
      
    </style>
  </head>
  <body>
    <div style="display:none" data-bind="visible: true">
      <ko-tabs>
        <ko-tab params="label: 'Tab #1'">
          <p style="color:red">This is the first tab's content..</p>
        </ko-tab>
        <ko-tab params="label: 'Tab #2'">
          <p style="color:green">And this is the second tab's content...</p>
        </ko-tab>
      </ko-tabs><br>
      <!-- -------------------------------------------------------------------------->
      <h3>Using the `isDefault:true` parameter on the second tab</h3>
      <ko-tabs>
        <ko-tab params="label: 'Tab #1'">
          <p style="color:red">This is the first tab's content..</p>
        </ko-tab>
        <ko-tab params="label: 'Tab #2', isDefault: true">
          <p style="color:green">And this is the second tab's content...</p>
        </ko-tab>
        <ko-tab params="label: 'Tab #3'">
          <p style="color:magenta">And this is the third tab's content...</p>
        </ko-tab>
      </ko-tabs><br>
      <!-- -------------------------------------------------------------------------->
      <h3>Using the `keyForRestore` option, allowing to restore the last used tab whenever the tabs component gets re-rendered</h3>
      <p>
        <button data-bind="click: () =&gt; isTabsContainerEnabled(!isTabsContainerEnabled())" style="border: 2px solid red">Click to toggle the red container's content below</button>
        <p>(The tab recently selected will be restored upon re-rendering)</p>
      </p>
      <div data-bind="if: isTabsContainerEnabled" style="padding: 30px; border: 2px solid red;">
        <ko-tabs params="keyForRestore: 'myRestorableTabs'">
          <ko-tab params="label: 'Tab #1'">
            <p style="color:red">This is the first tab's content..</p>
          </ko-tab>
          <ko-tab params="label: 'Tab #2'">
            <p style="color:green">And this is the second tab's content...</p>
          </ko-tab>
          <ko-tab params="label: 'Tab #3'">
            <p style="color:magenta">And this is the third tab's content...</p>
          </ko-tab>
        </ko-tabs>
        <h4>Btw.. `keyForRestore` and `isDefault` can be combined:</h4>
        <ko-tabs params="keyForRestore: 'myRestorableTabs2'">
          <ko-tab params="label: 'Tab #1'">
            <p style="color:red">This is the first tab's content..</p>
          </ko-tab>
          <ko-tab params="label: 'Tab #2'">
            <p style="color:green">And this is the second tab's content...</p>
          </ko-tab>
          <ko-tab params="label: 'Tab #3', isDefault: 1">
            <p style="color:magenta">And this is the third tab's content</p>
            <p>This tab is <b>preselected ONCE</b> when the tabs get rendered first-time.</p>
            <p>Thereafter, whatever tab was selected last, that one will get restored whenever the tabs get destroyed & re-rendered</p>
          </ko-tab>
        </ko-tabs>
        <h3>The <b>`forceSelected`</b> attribute on a tab can be used to override the `isDefault` and last-selected mechanism</h3>
        <p>
          <label><input type="checkbox" data-bind="checked: forceLastTabSelected" style="display:inline"> Check to force-select the 3rd tab below whenever the tabs below get (re-)rendered</label>
        </p>
        <ko-tabs params="keyForRestore: 'myRestorableTabs3'">
          <ko-tab params="label: 'Tab #1'">
            <p style="color:red">This is the first tab's content..</p>
          </ko-tab>
          <ko-tab params="label: 'Tab #2', isDefault: true">
            <p style="color:green">This is the second tab (isDefault=true)</p>
          </ko-tab>
          <ko-tab params="label: 'Tab #3', forceSelected: $parent.forceLastTabSelected">
            <p style="color:magenta">And this is the third tab's content</p>
            <p>This tab is <b>preselected ONCE</b> when the tabs get rendered first-time.</p>
            <p>Thereafter, whatever tab was selected last, that one will get restored whenever the tabs get destroyed & re-rendered</p>
          </ko-tab>
        </ko-tabs>
      </div>
    </div>
    <script type="module">
      import {ko} from '../lib/libs.js';
      import '../lib/koTabsComponent.js';
      
      ko.applyBindings({
          isTabsContainerEnabled: ko.observable(true),
          forceLastTabSelected: ko.observable(false)
      });
    </script><a href="./" style="position: absolute; right: 10px; top: 10px;">&laquo; Back</a>
  </body>
</html>